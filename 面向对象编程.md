# 面向对象编程

标签（空格分隔）： 面向对象

---

**理解创建对象**
**
理解继承**

面向对象编程 oop,
Object Oriented Programming
OOP，面向对象程序设计

ECMASCRIPT 中没有类的概念，

构造函数模式
------
构造函数可以用来创建特定类型的对象。

构造函数也就是一个普通的函数，作为构造函数，约定：
	作为构造函数，首字母大写

    function Car(color,lunzi){
		this.color = color;	
		this.lunzi = lunzi;
	}

没有显式的创建对象
直接将属性和方法付给this对象
没有return语句

**new操作符**
要创建新实例，必须要用new操作符。
调用函数，创建对象

	会经历4个步骤：
		1. 会在构造函数的内部创建一个空对象
		2. 函数内部的this指向这个空对象（this就代表了这个对象）
		3. 执行函数，添加属性
		4. 返回这个对象
	
**显式的使用return**
						return后后面的值是一个简单类型的值，还return的是内部创建的对象
						return后后面的值是一个对象类型的值，返回的是return后面的这个对象
 **对象的constructor属性**是？？？？
 

原型：
---
把一类对象共享的属性和方法，放在原型上

    function Car(color,lunzi){
		this.color = color;	
		this.lunzi = lunzi;
		this.city = '北京';
		this.run = function (){
			console.log("我会跑了");
		}
	}

	let c1 = new Car('red',4);
	let c2 = new Car('blue',4);

	console.log(c1);
	console.log(c2);
	console.log( c1.run === c2.run );//结果是false
// 实际上，每次调用Car函数，都会创建一个run属性对应的函数，每一个对象都拥有单独的函数，不是共享的

**prototype  原型**
					每一个函数都拥有一个属性叫prototype，就是原型
					通过这个函数创建出来的一类对象拥有的**共享的属性和方法**，都放在放在这个函数的原型上

					原型对应的值是一个**对象**（默认是通过Object创建出来的）
是一个指针，指向一个对象

__proto__
					每一个对象上都有办一个__proto__属性，值指向的是创建这个对象的构造函数的原型

通过一个构造函数创建的对象和构造的原型有关系呢？？？


一：原型和原型对象：
1.函数的原型prototype：函数才有prototype，prototype是一个对象，指向了当前构造函数的引用地址。
2.函数的原型对象__proto__：所有对象都有__proto__属性， 当用构造函数实例化（new）一个对象时，会将新对象的__proto__属性指向 构造函数的prototype。


①所有函数的__proto__都是指向Function的prototype。
②构造函数new出来的对象__proto__指向构造函数的prototype。
③非构造函数实例化出的对象或者对象的prototype的__proto__指向Object的prototype。
④Object的prototype指向null。



1.谁最终调用函数，this指向谁。
①this指向的永远只可能是对象！！！
②this指向谁永远不取决于this写在哪，而是取决于函数在哪调用
③this指向的对象，称之为函数的上下文context，也叫函数的调用者
**2.this指向的规律（与函数调用的方式息息相关）：**
this指向的情况，取决于函数调用方式有哪些，
①通过函数名()直接调用：this指向window
②通过对象.函数名()调用的:this指向这个对象
③函数通过数组的一个元素，通过数组下标调用的，this指向这个数组
④函数作为window内置函数的回调函数调用时，this指向window如setTimeout setInterval 等
⑤函数作为构造函数用new关键字调用时，this指向新new出的对象。

原型链
---

一个对象查找一个属性的一套规则

当查找一个属性，先从自身查找，继续找构造函数的原型，
直到找到Object.prototype为止，没找到返回undefined


变量对象？？？？
----

constructor
-----------

函数的原型是一个对象，对象初始的时候有一个属性为constructor

constructor的值指向的是拥有这个原型的函数
constructor 可以被改写，所以判断一个对象属于哪个类型有问题

原型重新赋了一个新的对象，手动的把constructor改回来

instanceOf
----------

二元运算符
对象  instanceOf 函数

描述有问题：
		简单理解：运算一下这个函数是不是对象的构造函数
	是 结果为true
	不是 结果为false
正确描述（待定）：
	运算一下函数的原型是不是在这这个对象的原型链上


判断类型
----

typeof 
	数组和对象不能分辨出来
constructor
	容易被改写
instanceof
	找原型链上的函数
Object.prototype.toString
	几乎完美？？？？？

对象.hasOwnProperty(属性名)
----------------------

判断属性名是不是对象自身的属性
只在给定属性存在于对象实例中时，才会返回true；
重写属性，变为实例属性时才会为true；
并不会找原型链上的

包装对象？？？
----

		String()
		Number()
		Boolean()？？？？

let str = 'miaov';  // 只是值，不是对象

// 当掉用slice的时候，内部会把str包装一个对象，调用slice方法
str.slice(1);

// 使用完包装对象之后，立马销毁了

str.abc  = 10;

console.log(str.abc);

let str2 = new String('miaov');
console.log(str2.slice);
console.log(str2.valueOf());  // 拿到原始值
继承
--
**构造函数（类式继承）**
call或apply

**//拷贝继承**
//把父类原型上的属性拷贝到子级原型上
/*for( var attr in People.prototype ){
if(People.prototype.hasOwnProperty(attr)){
	Coder.prototype[attr] = People.prototype[attr];
}

}*/

Object.**assign**(Coder.prototype,People.prototype)


**//1. 拷贝继承**
//Object.assign(Coder.prototype,People.prototype)

**// 3.中间的一个类**
function F(){};     
F.prototype = People.prototype;  // 把父类的原型给到中间类
Coder.prototype = new F;    // 改写子类的原型为中间类生成的对象
Coder.prototype.constructor = Coder; // 把子类的constructor指回到子类

**// 2. 寄生式继承**

//Coder.prototype = People.prototype;

**继承es6**
使用关键字class来定义类：
class 类名{

	// 创建对象有属性
	constructor(name){

	}
	
	共享的方法，不能定义共享的属性
	say(){

	}

	say2(){
		
	}
}

子类必须在constructor方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。


    class Coder extends People{
		constructor(name,money){
			// super作为函数，就是构造函数
			super(name);
			this.money = money;
		}
		coding(){
			console.log("我会编程");
		}
	}
	// 当不传值的时候，类中可以不用写constructor
	let c = new Coder('leo',10000);

	console.log(c);

继承实例？？？？


挂在函数上的方法，静态方法；属性，叫静态属性

提问：
---

**总结函数被调用的几种情况，this分别指向什么值？**

1. 直接调用 this=> window
2. 事件调用 this=>触发事件的元素
3. 定时器调用 this => window
4. 箭头函数被调用 this => 所定义的作用域的this
5. new调用函数 this => 内部创建的隐式对象
6. 对象调用函数 this => 调用函数的对象

**改变一个函数的this有哪些方法？说一说他们各自的特点。**

call apply bind

**简述你对原型和原型链的理解？**

原型 通过一个构造函数创建对象都共享原型上的属性和方法

原型链 

**new 是什么？使用new调用函数做了什么事情？**


**如何继承构造函数中的属性？如何继承原型上的共享方法？**

构造函数中的属性 : call

父类 abc  子类 coder

function abc(){
	this.a = 10;	
}

function coder(){
	abc.call(this)	
}

new coder();

for in
object.assign



























































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































